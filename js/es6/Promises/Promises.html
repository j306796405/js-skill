<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!-- 加载Traceur编译器 -->
<script src="../lib/traceur-compiler/traceur.js" type="text/javascript"></script>
<!-- 将Traceur编译器用于网页 -->
<script src="../lib/traceur-compiler/bootstrap.js" type="text/javascript"></script>
<!-- 打开实验选项，否则有些特性可能编译不成功 -->
<script>
//        traceur.options.experimental = true;
</script>
<script type="module">
    //创建promise
    var promise = new Promise(function(resolve, reject) {
        // 进行一些异步或耗时操作
        var bool;
        setTimeout(function(){
            bool = true;
            if ( bool ) {
                resolve("Stuff worked!");
            } else {
                reject(Error("It broke"));
            }
        },3000)

    });
    //绑定处理程序
    promise.then(function(result) {
        //promise成功的话会执行这里
        console.log(result); // "Stuff worked!"
    }, function(err) {
        //promise失败会执行这里
        console.log(err); // Error: "It broke"
    });
</script>
</body>
</html>